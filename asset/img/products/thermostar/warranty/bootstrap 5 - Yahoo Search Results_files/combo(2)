!function(s,c){"use strict";var r=s.YAHOO=s.YAHOO||{},n=r.NB||{},a=r.SP=r.SP||{},i="rs-",l={offset:"-o",index:"-i"},e="#main-algo",t=".grp-talgo",g=".grp-talgo-ext .compList .s-sitelink",d=".rs-section",o=".rs-row",u=".rs-block",h=".rs-label",S=".rs-bp",v=/\brs-bp\b/g,f=".rs-right",p=".grp-talgo-ext",A=".algo",C=".ads.AdTop",m=".compText",y=".qlset",E="NavigationCard",N="rs-hidden",R="trans-in",I="trans-out",b={BEACON:{standard:{_S:"",pvid:"",mtestid:"",sec:"rel-algo",it:"sys_algo_rs",prd:"rs_algo"},close:{pos:"",t4pos:"0"},click:{pos:"",t4pos:""},view:{rs:0,pos:""}}},O="offset",q="hashKey",B="relItems",k="inPlaceRSNodes";function x(){}x.ATTRS={itemPerRow:{value:2},baseRequeryUrl:{value:""},isControl:{value:!1},showAlgoDesc:{value:!1},instrumentation:{value:{}},action:{value:"touchstart"},defaultAlgoGroup:{value:p},algoMain:{value:e},algoLink:{value:t},algoItem:{value:A},adNorthItem:{value:C},rsItem:{value:o},enableRSOnLoadAlgoIdx:{value:!1}},x.prototype={initializer:function(){var t,e,o=this,r=o.get("enableRSOnLoadAlgoIdx"),n=c.querySelectorAll(o.get("adNorthItem"));o.get(k)&&(t=[],(e=c.querySelectorAll(o.get("algoItem")+" "+d))&&(e.forEach(function(e){e=e.querySelectorAll(h).length;e&&t.push(Array(e).fill(e))}),t.length&&o.set(B,t))),o.isSessionStorageSupport()&&o.has(B)&&o.has(q)&&!isNaN(o.get(O))&&(o.triggeredIdx=Array(o.get(B).length),o.upToDate=!1,o.updateBeaconsObj(),o.bindRelatedSearchesListener(),o.bindAlgoEvtHandling(),r&&(n=parseInt(r)+n.length,o.updateSessionStorage({offset:o.get(O),index:n})),o.triggerRelatedSearches())},isSessionStorageSupport:function(){try{return!!s.sessionStorage}catch(e){return!1}},isHistorySupport:function(){return!(!s.history||!s.history.replaceState)},updateBeaconsObj:function(){b.BEACON.standard._S=a.ULT.get("spaceid"),b.BEACON.standard.pvid=a.ULT.get("pvid"),b.BEACON.standard.mtestid=encodeURIComponent(a.ULT.get("mtestid"));var e=this.get("instrumentation");e.it&&(b.BEACON.standard.it=e.it),e.sec&&(b.BEACON.standard.sec=e.sec)},bindRelatedSearchesListener:function(){var e=this,t=e.triggerRelatedSearches.bind(e);r.Event.listen(s,"pageshow",function(){t()}),r.Event.listen(s,"load",function(){t()}),r.Event.listen(c,"visibilitychange",function(){"visible"===c.visibilityState&&t()}),e.isHistorySupport()&&r.Event.listen(s,"popstate",function(){t()})},bindAlgoEvtHandling:function(){var e=this,t=e.get("action"),o=c.querySelector(e.get("algoMain"));o&&(r.Event.delegate(t,e._evtAlgoLinkClk,o,e.get("algoLink"),e),r.Event.delegate(t,e._evtAlgoLinkClk,o,g,e),r.Event.delegate("click",e._evtRelatedSearchClk,o,u,e),e.get("isControl")||r.Event.delegate("click",e._evtCloseClicked,o,f,e))},replaceHistoryStateIfNecessary:function(){this.isHistorySupport()&&(s.history.state||s.history.replaceState({},null))},triggerRelatedSearches:function(){var e,t,o,r=this;r.upToDate||(e=r.getSessionStorageValidated(),r.recoverHiddenAlgoContent(),e&&!e.shown&&r.updateRelatedSearchUI(e.index)&&(o=parseInt(e.index),"object"==typeof(t=r.get(B))[o]&&r.sendRsViewBeacon({pos:o+1,rs:t[o].length,query:encodeURIComponent(r.get("query"))}),r.upToDate=!0,e.shown=!0,r.updateSessionStorage(e)))},recoverHiddenAlgoContent:function(){var e,t;this.get("isControl")||(e=c.querySelectorAll(d),t=c.querySelectorAll("."+N),e&&(n.removeClass(e,I),n.removeClass(e,R)),t&&n.removeClass(t,N))},createRelatedSearchNode:function(e){var t,o,r,n,s,a,i=this,l=c.querySelector(S),g=i.get("itemPerRow");if(!l||0==e.length)return null;for(o=(t=l.cloneNode(!0)).querySelectorAll(i.get("rsItem")),l=Math.min(o.length,Math.floor(e.length/g)),e.length=Math.min(e.length,l*g),n=l;n<o.length;n++)o[n].remove();for(r=t.querySelectorAll(u+" a"),n=0;n<e.length;n++)s=r[n],a=e[n],s.innerHTML=a,s.href=i.get("baseRequeryUrl")+"&p="+encodeURIComponent(s.text);return t.className=t.className.replace(v,""),t},createRelatedSearchNodeForAlgo:function(e){var t=this,o=t.getKthAlgoElement(e),r=t.get(B);if(!t.get(k)&&t.shouldCreateRsNode(e)){if(!(r=t.createRelatedSearchNode(r[e])))return!1;o.appendChild(r),t.triggeredIdx[e]=!0}return!0},shouldCreateRsNode:function(e){return e<this.get(B).length&&!this.triggeredIdx[e]},updateRelatedSearchUI:function(e){var t,o=this,r=o.getKthAlgoElement(e);return!!(r&&o.createRelatedSearchNodeForAlgo(e)&&(t=r.querySelector(d)))&&(o.get("isControl")||(n.removeClass(t,I),n.addClass(t,R),n.hasClass(r,E)?((t=r.querySelector(m))&&n.addClass(t,N),(t=r.querySelectorAll(y))&&n.addClass(t,N)):(r=r.querySelectorAll(o.get("defaultAlgoGroup")))&&!o.get("showAlgoDesc")&&n.addClass(r,N)),!0)},getAlgoElements:function(){return this.algoEls===undefined&&(this.algoEls=c.querySelectorAll(this.get("algoItem"))),this.algoEls},getKthAlgoElement:function(e){var t=this.getAlgoElements();return e<t.length?t[e]:null},getSessionStorageValidated:function(){var e=this.getSessionStorage();return e.offset==this.get(O)?e:null},updateSessionStorage:function(e){var t,o,r=this.get(q);if(s.sessionStorage)for(o in t=i+r,l)o in e&&s.sessionStorage.setItem(t+l[o],e[o])},getSessionStorage:function(){var e,t,o,r={},n=this.get(q);if(s.sessionStorage)for(t in e=i+n,l)(o=s.sessionStorage.getItem(e+l[t]))&&(r[t]=o);return r},removeSessionStorage:function(){var e,t,o=this.get(q);if(s.sessionStorage)for(t in e=i+o,l)s.sessionStorage.removeItem(e+l[t])},sendRsClickBeacon:function(e,t){if("object"==typeof e)for(var o in e)b.BEACON.click[o]=e[o];var r=n.clone(b.BEACON.standard);n.merge(r,b.BEACON.click),this._sendBeacon(r,!1,function(){s.location.href=t},500)},sendRsCloseBeacon:function(e){if(0<Object.keys(e).length)for(var t in e)b.BEACON.close[t]=e[t];var o=n.clone(b.BEACON.standard);n.merge(o,b.BEACON.close),this._sendBeacon(o,!1)},sendRsViewBeacon:function(e){if(0<Object.keys(e).length)for(var t in e)b.BEACON.view[t]=e[t];var o=n.clone(b.BEACON.standard);n.merge(o,b.BEACON.view),this._sendBeacon(o,!0)},_evtCloseClicked:function(e){var t,o=this.getSessionStorage();e.stopPropagation(),0<Object.keys(o).length&&(this.sendRsCloseBeacon({pos:parseInt(o.index)+1,query:this.get("query")}),this.removeSessionStorage(),(t=r.DOM.ancestor(e.currentTarget,d))&&(n.removeClass(t,R),n.addClass(t,I),e=(o=r.DOM.ancestor(t,this.get("algoItem"),!0)).querySelectorAll(this.get("defaultAlgoGroup")),t=o.querySelector(m),o=o.querySelector(y),e&&n.removeClass(e,N),t&&n.removeClass(t,N),o&&n.removeClass(o,N)))},_evtRelatedSearchClk:function(e){e.preventDefault(),e.stopPropagation();var t=this,o=e.currentTarget.querySelector(h),r=o.innerText||"",n=o.getAttribute("data-index")||-1,s=e.currentTarget.querySelector("a"),a=s?s.getAttribute("href"):"",s=t.get("itemProviders")||[],o=o.getAttribute("data-labelsrc"),e=t._getAlgoIndex(e);-1!==e&&-1!==n&&""!==r&&""!==a&&(r={pos:e+1,t4pos:n,ltxt:r,query:t.get("query")},t.get(B).length===s.length?r.trigSrc=s[e][n-1]:o&&(r.trigSrc=o),t.sendRsClickBeacon(r,a))},_evtAlgoLinkClk:function(e){var t=this,e=t._getAlgoIndex(e);0<=e&&(t.replaceHistoryStateIfNecessary(),t.updateSessionStorage({offset:t.get(O),index:e}),t.upToDate=!1)},_getAlgoIndex:function(e){var t=-1,o=this.getAlgoElements();return o&&(e=r.DOM.ancestor(e.currentTarget,this.get("algoItem"),!0),t=r.DOM.indexOf(e,o)),t},_sendBeacon:function(e,t,o,r){t?a.ULT.view_beacon(e):a.ULT.beacon(e,o,r)}},a.AlgoRsItem=x}(window,document);!function(e,c){"use strict";var d=e.YAHOO=e.YAHOO||{},n=d.NB||{},e=d.SP=d.SP||{};function s(){}s.prototype={initializer:function(){var e=this,s=e.get("config");s.triggerClass&&(e.config=s,e.trigSelector="."+s.triggerClass,e.trigGroupSelector="#"+s.triggerGroup,e.listSelector="."+s.listClass,e.moduleSelector="."+s.moduleClass,e.xOffset=s.xOffset?parseInt(s.xOffset):0,e.yOffset=s.yOffset?parseInt(s.yOffset):0,e.gridLeftGutter=s.gridLeftGutter?parseInt(s.gridLeftGutter):124,e.selectedClass=s.selectedClass||"OptSelected",e.hideClass=s.hideClass||"d-n",e.posAbs=s.posAbsClass||"p-a",e.posRelClass=s.posRelClass||"p-r",d.Event.delegate("click",e.handleClickEvent,c.querySelector(e.trigGroupSelector),e.moduleSelector+" "+e.trigSelector,e),d.Event.outside("click",e.handleClickOutside.bind(e),e.checkInside.bind(e)))},checkInside:function(e){return n.hasClass(e,this.config.triggerClass)||n.hasClass(e,this.config.listClass)},handleClickEvent:function(e){var s,t,l,i=this,r=e.target,o=c.querySelector("."+i.selectedClass),a=d.DOM.ancestor(r,i.moduleSelector),e=!1;o&&(e=a.contains(o),i.hide(o),e)||(s=a.querySelector(i.listSelector),n.addClass(s,i.posAbs),n.addClass(a,i.posRelClass),i.get("posToHost")?(t=d.DOM.getX(r)-d.DOM.getX(a)+i.xOffset,l=d.DOM.getY(r)-d.DOM.getY(a)+i.yOffset,d.DOM.setX(s,t),d.DOM.setY(s,l)):(l=c.querySelector(i.trigGroupSelector),t=d.DOM.getX(r)-i.yOffset,0==d.DOM.getComputed(l,"marginLeft")&&(t+=i.gridLeftGutter),d.DOM.setX(s,t)),n.hasClass(s,i.hideClass)&&i.show(s))},handleClickOutside:function(){var e=this,s=c.querySelector(e.listSelector+"."+e.selectedClass);s&&e.hide(s)},show:function(e){n.removeClass(e,this.hideClass),n.addClass(e,this.selectedClass)},hide:function(e){n.addClass(e,this.hideClass),n.removeClass(e,this.selectedClass)}},e.compModuleDropDown=s}(window,document);!function(r,a){"use strict";var i=r.YAHOO=r.YAHOO||{},t=i.SP=i.SP||{};function e(){}e.ATTRS={target:{value:"_top"},pageHostname:{value:null}},e.prototype={initializer:function(){var t=this,e=i.Event,n=t.handleClick.bind(t);t.has("target")&&e.delegate("mousedown",n,a,"a")},handleClick:function(t){var e=this,n=t.currentTarget,a=n&&n.getAttribute("href"),t=a&&e.getAnchor(a),a=t&&t.hostname,t=e.get("pageHostname")||r.location.hostname;!a||a!=="r."+t&&a.substr(-t.length)===t||n.setAttribute("target",e.get("target"))},getAnchor:function(t){var e=a.createElement("a");return e.href=t,e}},t.YHSLinkManipulator=e}(window,document);!function(e,a){"use strict";var o,c,i=e.YAHOO=e.YAHOO||{},l=i.SP=i.SP||{},u=[".ads"],s=[".res",".algo"],d=[".dd"];function f(e){var n=u.length,t=!1;if(!e)return t;for(var r=0;r<n;r++)if(i.DOM.ancestor(e,u[r])||i.DOM.hasClass(e,"ads")||1==e.children.length&&i.DOM.hasClass(e.firstChild,"ads")){t=!0;break}return t}function g(e){var n=s.length,t=!1;if(!e)return t;for(var r=0;r<n;r++)if(i.DOM.ancestor(e,s[r])){t=!0;break}return t}function v(e,n){var t,r,a=e.currentTarget,e=a.href,a=i.DOM.ancestor(a,"li");void 0===(t=a&&(r=a.querySelector("em")||a.querySelector("span.url"))?encodeURIComponent("http://"+r.get("text")):t)&&(t=encodeURIComponent(e)),n=n,c&&(n+="&url="+t),o&&(n+="&clicktype=ads"),l.ULT.beacon_url(n)}function p(e,n,t,r){var a=e.currentTarget;"ad"===(n=n||"")&&f(a)||"ads"===n&&g(a)?v(e,r):"ads"!==n&&"ad"!==n&&(t?function(e,n,t){var r,a=e.currentTarget;if(a){for(var o in r=t,n)if(i.DOM.ancestor(a,o)){r=n[o];break}l.ULT.beacon_url(r)}}(e,t,r):f(a)?v(e,r):(g(a)||function(e){var n=d.length,t=!1;if(!e)return t;if(!f(e)&&!g(e))for(var r=0;r<n;r++)if(i.DOM.ancestor(e,d[r])){t=!0;break}return t}(a))&&(r=r,void 0!==(e=(e=e).currentTarget.href)&&(e=encodeURIComponent(e),r=r,c&&(r+="&url="+e),o&&(r+="&clicktype=algo"),l.ULT.beacon_url(r))))}function n(){}n.ATTRS={beacon_url:{value:null},click_region_map:{value:null},random_ad_class:{value:"div.ads",nonEmpty:!0},sendURLParam:{value:!1},sendClicktype:{value:!1},type:{value:"srp",nonEmpty:!0}},n.prototype={initializer:function(){var n,e=this,t=e.get("type"),r=e.get("beacon_url");u.push(e.get("random_ad_class")),c=e.get("sendURLParam"),o=e.get("sendClicktype"),n=e.get("click_region_map"),r&&(i.Event.delegate("mousedown",function(e){p(e,t,n,r)},a,"#results a"),n&&i.Event.delegate("click",function(e){p(e,t,n,r)},a,"input.sbb, button.sbb"),i.Event.on("bgClick",e.handleAdPartnerBeacon.bind(e)))},handleAdPartnerBeacon:function(e){var n=this.get("click_region_map"),t=this.get("type"),r=this.get("beacon_url");r&&p(e.detail.event,t,n,r)}},l.YHSPT=n}(window,document);